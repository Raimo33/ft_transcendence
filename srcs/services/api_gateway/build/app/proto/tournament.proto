syntax = "proto3";

package tournament.api_gateway;

import "google/protobuf/empty.proto";

service TournamentAPIGateway
{
  rpc Ping                         (google.protobuf.Empty)               returns (google.protobuf.Empty)    {}
  rpc GetUserTournaments           (GetUserTournamentsRequest)           returns (Tournaments)              {}
  rpc CreateTournament             (google.protobuf.Empty)               returns (CreateTournamentResponse) {}
  rpc GetTournament                (GetTournamentRequest)                returns (Tournament)               {}
  rpc CancelTournament             (CancelTournamentRequest)             returns (google.protobuf.Empty)    {}
  rpc JoinTournament               (JoinTournamentRequest)               returns (google.protobuf.Empty)    {}
  rpc LeaveTournament              (LeaveTournamentRequest)              returns (google.protobuf.Empty)    {}
}

message GetUserTournamentsRequest
{
  string  user_id   = 1;
  uint32  limit     = 2;
  uint32  offset    = 3;
}
message Tournaments
{
  repeated Tournament  tournaments = 1;
}

message GetTournamentRequest
{
  string tournament_id  = 1;
}
message Tournament
{
  string           id                  = 1;
  string           creator_id          = 2;
  repeated string  match_ids           = 3;
  string           status              = 4;
  uint64           started_timestamp   = 5;
  uint64           finished_timestamp  = 6;
}

message CancelTournamentRequest
{
  string tournament_id  = 1;
}

message JoinTournamentRequest
{
  string tournament_id  = 1;
}

message LeaveTournamentRequest
{
  string tournament_id  = 1;
}